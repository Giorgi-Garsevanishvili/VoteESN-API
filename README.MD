
# ğŸ“® VoteESN API

This is the backend service for **VoteESN**, a secure, section-based digital voting platform built for Erasmus Student Network (ESN) sections and NGOs.

---

## ğŸ’¡ Features

- ğŸ” JWT-based user and voter authentication
- ğŸ§‘â€âš–ï¸ Role-based access control (Admin / Voter)
- ğŸ—³ï¸ Election creation with one-time token generation
- ğŸ“§ Token delivery via email and QR code
- ğŸŒ Optional IP-based voter restrictions
- ğŸ·ï¸ Automatic section assignment
- ğŸ›¡ï¸ Email alerts on sensitive actions (logins, token reveals, etc.)
- ğŸ“š Swagger UI for API documentation

---

## ğŸ§‘â€ğŸ’¼ User Roles

| Role   | Access Scope                                             |
|--------|----------------------------------------------------------|
| Admin  | Full access to `/api/v1/admin` for managing users, tokens, and elections |
| Voter  | Limited access to `/api/v1/user` for casting votes and viewing elections |

---

## ğŸ› ï¸ Tech Stack

- **Backend:** Node.js + Express
- **Database:** MongoDB Atlas (via Mongoose)
- **Security:** JWT, Helmet, Rate Limiter, XSS-clean, CORS
- **Utilities:** Nodemailer, QR code generator
- **Docs:** Swagger (OpenAPI) 

## ğŸ“‚ Folder Structure

VOTEESN-API/
â”œâ”€â”€ controlers/                  # All controller logic for handling API requests
â”‚   â”œâ”€â”€ admin/                   # Admin-specific controller functions (user management, elections)
â”‚   â”œâ”€â”€ auth.js                  # Handles authentication (login, token creation, etc.)
â”‚   â”œâ”€â”€ settings-controler.js    # Manages global or section-level settings
â”‚   â””â”€â”€ voter.js                 # Logic related to voter actions (casting vote, viewing elections)
â”‚
â”œâ”€â”€ db/                          # MongoDB connection setup
â”œâ”€â”€ errors/                      # Custom error classes and handling helpers
â”œâ”€â”€ middlewares/                 # Auth, authorization, rate limiting, validation middleware
â”œâ”€â”€ models/                      # Mongoose schemas (User, Election, Token, etc.)
â”œâ”€â”€ routes/                      # Route definitions for admin, voter, and auth
â”œâ”€â”€ utils/                       # Utility functions (email sending, QR code generation, etc.)
â”‚
â”œâ”€â”€ app.js                       # Main entry point - initializes Express app
â””â”€â”€ .env                         # Environment variables (excluded from version control)


---

## ğŸ“„ API Documentation

You can test and explore the API using Swagger UI:  
ğŸ”— [https://voteesn-api.onrender.com/](https://voteesn-api.onrender.com/)

---

## ğŸš€ Deployment Info

- **Backend:** Hosted on Render
- **Database:** MongoDB Atlas
- **Frontend:** Hosted on Netlify
- **CORS:** Enabled for frontend domain
- **Rate Limiting:** 500 requests / 15 minutes

---

## ğŸ“¦ Local Setup

```bash
git clone https://github.com/Giorgi-Garsevanishvili/VoteESN-API.git
cd VoteESN-API
npm install
npm run start


## ğŸ“§ Email & Security

Emails sent on login/token reveal, etc.
QR codes generated for token voting
Optional IP restrictions per election
Only admin of a section can manage their voters


ğŸ“„ License
This project is under a custom proprietary license.
You may not copy, modify, or distribute any part of this software without explicit written permission.

For permissions, contact George.Garsevanidi@gmail.com.
See the LICENSE file for full details.

Developed & maintained by @Giorgi-Garsevanishvili